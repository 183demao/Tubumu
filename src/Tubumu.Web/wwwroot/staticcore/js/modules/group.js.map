{"version":3,"sources":["webpack:///./src/utils/httpclient.js","webpack:///src/modules/group/App.vue","webpack:///./src/utils/api.js","webpack:///./src/modules/group/group.js","webpack:///./src/modules/group/App.vue?26f8","webpack:///./src/utils/config.js","webpack:///./src/modules/group/App.vue"],"names":["ApiError","message","errorType","innerError","this","name","ErrorType","Default","stack","Error","Sysetem","prototype","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default","constructor","httpClient","__WEBPACK_IMPORTED_MODULE_3_axios___default","a","create","baseURL","__WEBPACK_IMPORTED_MODULE_5__config_js__","timeout","responseType","withCredentials","interceptors","request","use","config","method","headers","Content-Type","data","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","paramsSerializer","params","__WEBPACK_IMPORTED_MODULE_4_qs___default","stringify","arrayFormat","localStorage","token","Authorization","error","response","indexOf","json","toString","text","Buffer","from","console","log","JSON","parse","url","top","location","code","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","reject","__webpack_exports__","install","Vue","arguments","length","undefined","$httpClient","isLoading","activeTabName","treeData","treeDefaultProps","children","label","value","filterText","removeActive","moveActive","moveFormDialogVisible","editActive","mainFormDialogVisible","mainForm","groupId","roleIds","permissionIds","availableRoleIds","parentIdPath","parentId","isContainsUser","isDisabled","moveForm","sourceId","targetIdPath","targetId","isChild","movingLocation","mainFormRules","required","trigger","max","moveFormRules","type","editPermissionTreeData","editPermissionTreeDefaultProps","editRoleListData","editParentTreeData","editParentTreeDefaultProps","mounted","getTree","getRoleBases","getPermissionTree","computed","mainTableEmptyText","watch","val","$refs","tree","filter","methods","_this","__WEBPACK_IMPORTED_MODULE_0__utils_api__","getGroupTree","then","showErrorMessage","filterNode","_this2","list","_this3","handleAdd","node","_this4","validateBaseData","push","id","generateParentTree","$nextTick","editPermissionTree","setCheckedKeys","clearValidate","handleEdit","_this5","roles","map","m","roleId","permissions","permissionId","availableRoles","handleMainFormSure","sure","edit","add","handleRemove","_this6","$confirm","confirmButtonText","cancelButtonText","remove","catch","handleMove","_this7","handleMoveFormSure","move","_this8","validate","valid","addGroup","_this9","editGroup","_this10","removeGroup","_this11","moveGroup","moveQuickly","_this12","handlePermissionTreeCheckChange","checked","indeterminate","getCheckedKeys","__WEBPACK_IMPORTED_MODULE_1_lodash___default","cloneDeep","element","index","array","isSystem","filterTree","i","item","splice","resetForm","formName","resetFields","$message","renderContent","h","_ref","_this13","store","style","class","slot","attrs","icon","directives","join","on","click","e","stopPropagation","preventDefault","handleDragStart","ev","handleDragEnter","draggingNode","dropNode","handleDragLeave","handleDragOver","handleDragEnd","dropType","handleDrop","allowDrop","_allowDrop","allowDrag","login","__WEBPACK_IMPORTED_MODULE_0_vue__","post","logout","getProfile","get","changeProfile","changePassword","getMenus","getBulletin","editBulletin","getModulePermissions","extractModulePermissions","clearModulePermissions","getRoles","addRole","editRole","removeRole","moveRole","saveRoleName","getUsers","addUser","editUser","removeUser","getUserStatus","getNotificationsForManager","addNotification","editNotification","removeNotification","getNotifications","readNotifications","deleteNotifications","getNewestNotification","getGroups","callDirectly","download","__WEBPACK_IMPORTED_MODULE_6__fortawesome_fontawesome_svg_core__","__WEBPACK_IMPORTED_MODULE_7__fortawesome_free_solid_svg_icons__","__WEBPACK_IMPORTED_MODULE_2_vue__","productionTip","__WEBPACK_IMPORTED_MODULE_3__utils_httpclient_js__","__WEBPACK_IMPORTED_MODULE_1_element_ui_lib___default","size","component","__WEBPACK_IMPORTED_MODULE_8__fortawesome_vue_fontawesome__","el","render","__WEBPACK_IMPORTED_MODULE_5__App_vue__","esExports","_vm","_h","$createElement","_c","_self","rawName","expression","modifiers","fullscreen","lock","staticClass","separator-class","_v","placeholder","clearable","model","callback","$$v","$event","ref","props","empty-text","node-key","filter-node-method","render-content","default-expand-all","draggable","allow-drop","allow-drag","node-drag-start","node-drag-enter","node-drag-leave","node-drag-over","node-drag-end","node-drop","visible","close-on-click-modal","width","update:visible","nativeOn","submit","_s","rules","label-position","label-width","options","change-on-select","$set","prop","autocomplete","trim","_l","role","key","show-checkbox","check-strictly","check-change","border","_e","staticRenderFns","__webpack_require__","d","defaultPassword","defaultAccount","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1e44e71b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__"],"mappings":"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","file":"staticcore/js/modules/group.js","sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\nimport { baseURL } from './config.js'\r\n\r\nconst SuccessCode = 200\r\n\r\n// 自定义错误\r\nconst ErrorType = {\r\n  'Default': 'default',\r\n  'Sysetem': 'sysetem'\r\n}\r\n\r\nfunction ApiError (message, errorType, innerError) {\r\n  this.name = 'ApiError'\r\n  this.message = message || 'Default Message'\r\n  this.errorType = errorType || ErrorType.Default\r\n  this.innerError = innerError\r\n  this.stack = (new Error()).stack\r\n}\r\nApiError.prototype = Object.create(Error.prototype)\r\nApiError.prototype.constructor = ApiError\r\n\r\n/*\r\nfunction transformResponse(data, headers) {\r\n  /* eslint no-param-reassign:0 * /\r\n  if (typeof data === 'string') {\r\n    try {\r\n      data = JSON.parse(data)\r\n    } catch (e) { /* Ignore * / }\r\n  }\r\n  return data\r\n}\r\nfunction transformData (data, headers) {\r\n  if (headers['content-type'].indexOf('json') >= 0) {\r\n    return JSON.parse(data, dateReviver)\r\n  } else {\r\n    // Do something meaningful here\r\n  }\r\n}\r\n*/\r\n\r\nconst httpClient = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 20000,\r\n  // 响应的数据格式 json / blob / document / arraybuffer / text / stream\r\n  responseType: 'json',\r\n  withCredentials: true\r\n})\r\n\r\n// POST传参序列化(添加请求拦截器)\r\nhttpClient.interceptors.request.use(\r\n  config => {\r\n    // 在发送请求之前做某件事\r\n    if (\r\n      config.method === 'post' ||\r\n      config.method === 'put' ||\r\n      config.method === 'patch'\r\n    ) {\r\n      // Content-Type 对于 POST、PUT 和 PATCH 才有意义\r\n      config.headers = {\r\n        // 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        'Content-Type': 'application/json; charset=UTF-8'\r\n      }\r\n      // 序列化\r\n      config.data = JSON.stringify(config.data)\r\n    } else if (\r\n      config.method === 'delete' ||\r\n      config.method === 'get' ||\r\n      config.method === 'head'\r\n    ) {\r\n      // QueryString 序列化器\r\n      config.paramsSerializer = function (params) {\r\n        // arrayFormat: indices brackets repeat\r\n        return qs.stringify(params, {\r\n          arrayFormat: 'indices'\r\n        })\r\n      }\r\n    }\r\n\r\n    // 若是有做鉴权token , 就给头部带上token\r\n    if (localStorage.token) {\r\n      config.headers.Authorization = 'Bearer ' + localStorage.token\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    return error\r\n  }\r\n)\r\n\r\n// 返回状态判断(添加响应拦截器)\r\nhttpClient.interceptors.response.use(\r\n  response => {\r\n    if (response.headers['content-type'].indexOf('json') === -1) {\r\n      // 返回的数据不是 json (或是 json 但服务器的 content-type 设置不准确)\r\n      return response\r\n    }\r\n    // 仅处理 json 数据\r\n    let json\r\n    if (response.request.responseType === 'arraybuffer' && response.data.toString() === '[object ArrayBuffer]') {\r\n      // 返回的数据是 arraybuffer，内容是 json\r\n      // 备注：可能内容不是 json，这里暂未处理\r\n      const text = Buffer.from(response.data).toString('utf8')\r\n      console.log(text)\r\n      json = JSON.parse(text)\r\n    } else {\r\n      // 备注：不是 arraybuffer 可能会是 blob 等，这里暂未处理\r\n      json = response.data\r\n    }\r\n\r\n    if (json) {\r\n      if (json.url) {\r\n        top.location = json.url\r\n      } else if (json.code !== SuccessCode) {\r\n        console.log(json)\r\n        return Promise.reject(new ApiError(json.message))\r\n      }\r\n    }\r\n\r\n    return response\r\n  },\r\n  error => {\r\n    // 返回 response 里的错误信息\r\n    return Promise.reject(new ApiError(error.message, ErrorType.Sysetem, error))\r\n  }\r\n)\r\n\r\n// 对 axios 的实例重新封装成一个 plugin ,方便 Vue.use(xxxx)\r\nexport default {\r\n  install: function (Vue, option = {}) {\r\n    // 1.通过 Vue.httpClient 调用\r\n    Vue.httpClient = httpClient\r\n    // 2.通过 this.$httpClient 调用\r\n    Vue.prototype.$httpClient = httpClient\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/httpclient.js","<template>\r\n  <el-container v-loading.fullscreen.lock=\"isLoading\">\r\n    <el-header class=\"header\">\r\n      <el-breadcrumb\r\n        separator-class=\"el-icon-arrow-right\"\r\n        class=\"breadcrumb\">\r\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>分组列表</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-header>\r\n    <el-main class=\"main\">\r\n      <el-row>\r\n        <el-input\r\n          placeholder=\"输入关键字进行过滤\"\r\n          clearable\r\n          v-model=\"filterText\"\r\n          class=\"filterText\" />\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-circle-plus-outline\"\r\n          @click=\"handleAdd()\">添加</el-button>\r\n      </el-row>\r\n      <el-row>\r\n        <el-tree\r\n          :data=\"treeData\"\r\n          :props=\"treeDefaultProps\"\r\n          :empty-text=\"mainTableEmptyText\"\r\n          node-key=\"id\"\r\n          ref=\"tree\"\r\n          :filter-node-method=\"filterNode\"\r\n          :render-content=\"renderContent\"\r\n          :default-expand-all=\"true\" \r\n          @node-drag-start=\"handleDragStart\"\r\n          @node-drag-enter=\"handleDragEnter\"\r\n          @node-drag-leave=\"handleDragLeave\"\r\n          @node-drag-over=\"handleDragOver\"\r\n          @node-drag-end=\"handleDragEnd\"\r\n          @node-drop=\"handleDrop\"\r\n          draggable\r\n          :allow-drop=\"allowDrop\"\r\n          :allow-drag=\"allowDrag\"/>\r\n      </el-row>\r\n\r\n      <el-dialog\r\n        :visible.sync=\"mainFormDialogVisible\"\r\n        @submit.native.prevent\r\n        :close-on-click-modal=\"false\"\r\n        width=\"600px\">\r\n        <span slot=\"title\">\r\n          {{ editActive ? '编辑' : '添加' }}\r\n        </span>\r\n        <el-form\r\n          ref=\"mainForm\"\r\n          :model=\"mainForm\"\r\n          :rules=\"mainFormRules\"\r\n          label-position=\"right\"\r\n          label-width=\"120px\">\r\n          <el-tabs\r\n            v-model=\"activeTabName\"\r\n            type=\"card\">\r\n            <el-tab-pane\r\n              label=\"基本信息\"\r\n              name=\"first\">\r\n              <el-form-item label=\"所属分组\">\r\n                <el-cascader\r\n                  :options=\"editParentTreeData\"\r\n                  :props=\"editParentTreeDefaultProps\"\r\n                  clearable\r\n                  change-on-select\r\n                  v-model=\"mainForm.parentIdPath\" />\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"分组名称\"\r\n                prop=\"name\">\r\n                <el-input\r\n                  v-model.trim=\"mainForm.name\"\r\n                  autocomplete=\"off\"\r\n                  placeholder=\"请输入分组名称\"\r\n                  ref=\"name\" />\r\n              </el-form-item>\r\n              <el-form-item label=\"是否包含用户\">\r\n                <el-switch v-model=\"mainForm.isContainsUser\" />\r\n              </el-form-item>\r\n              <el-form-item label=\"是否停用\">\r\n                <el-switch v-model=\"mainForm.isDisabled\" />\r\n              </el-form-item>            \r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"限制角色\" \r\n              name=\"second\">\r\n              <el-form-item label=\"限制角色\">\r\n                <el-checkbox-group v-model=\"mainForm.availableRoleIds\">\r\n                  <el-checkbox \r\n                    v-for=\"role in editRoleListData\"\r\n                    :label=\"role.roleId\" \r\n                    :key=\"role.roleId\">{{ role.name }}</el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"包含角色\" \r\n              name=\"third\">\r\n              <el-form-item label=\"包含角色\">\r\n                <el-checkbox-group v-model=\"mainForm.roleIds\">\r\n                  <el-checkbox\r\n                    v-for=\"role in editRoleListData\"\r\n                    :label=\"role.roleId\"\r\n                    :key=\"role.roleId\">{{ role.name }}</el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"包含权限\" \r\n              name=\"fourth\">\r\n              <el-form-item label=\"包含权限\">\r\n                <el-tree\r\n                  :data=\"editPermissionTreeData\"\r\n                  :props=\"editPermissionTreeDefaultProps\"\r\n                  node-key=\"id\"\r\n                  ref=\"editPermissionTree\"\r\n                  empty-text=\"\"\r\n                  show-checkbox\r\n                  default-expand-all\r\n                  check-strictly\r\n                  @check-change=\"handlePermissionTreeCheckChange\" />\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-form>\r\n        <div\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\">\r\n          <el-button @click=\"handleMainFormSure(false)\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleMainFormSure(true)\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        :visible.sync=\"moveFormDialogVisible\"\r\n        @submit.native.prevent\r\n        :close-on-click-modal=\"false\"\r\n        width=\"600px\">\r\n        <span slot=\"title\">\r\n          移动节点: {{ moveActive ? moveActive.name : null }}\r\n        </span>\r\n        <el-form\r\n          ref=\"moveForm\"\r\n          :model=\"moveForm\"\r\n          :rules=\"moveFormRules\"\r\n          label-position=\"right\"\r\n          label-width=\"100px\">\r\n          <el-form-item\r\n            label=\"目标节点\"\r\n            prop=\"targetIdPath\">\r\n            <el-cascader\r\n              :options=\"editParentTreeData\"\r\n              :props=\"editParentTreeDefaultProps\"\r\n              clearable\r\n              change-on-select\r\n              v-model=\"moveForm.targetIdPath\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"位置\">\r\n            <template>\r\n              <el-radio\r\n                v-model=\"moveForm.movingLocation\"\r\n                :label=\"0\"\r\n                border>目标之下</el-radio>\r\n              <el-radio\r\n                v-model=\"moveForm.movingLocation\"\r\n                :label=\"1\"\r\n                border>目标之上</el-radio>\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"作为子节点\"\r\n            v-if=\"moveForm.movingLocation === 0\">\r\n            <el-switch v-model=\"moveForm.isChild\" />\r\n          </el-form-item>\r\n        </el-form>\r\n        <div\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\">\r\n          <el-button @click=\"handleMoveFormSure(false)\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleMoveFormSure(true)\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/utils/api'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 主要数据\r\n      isLoading: false,\r\n      activeTabName: 'first',\r\n      treeData: null,\r\n      treeDefaultProps: {\r\n        children: 'children',\r\n        label: 'name',\r\n        value: 'id'\r\n      },\r\n      filterText: null,\r\n\r\n      // 删除\r\n      removeActive: null,                 // 暂存删除项\r\n      // 移动\r\n      moveActive: null,                   // 暂存移动项\r\n      moveFormDialogVisible: false,       // 移动对话框是否可见\r\n\r\n      // 添加/编辑\r\n      editActive: null,                   // 暂存编辑项，也可用来判断是否添加还是编辑\r\n      mainFormDialogVisible: false,       // 添加/编辑对话框是否可见\r\n      mainForm: {\r\n        groupId: null,                    // String\r\n        name: null,                       // String\r\n        roleIds: [],                      // Array 不能设置为 null\r\n        permissionIds: null,              // Array\r\n        availableRoleIds: [],             // Array 不能设置为 null\r\n        parentIdPath: [],                 // Array 不能设置为 null 如果 parentIdPath 无值则作为顶级节点,否则作为子节点。给 cascader 组件使用。\r\n        parentId: null,                   // String\r\n        isContainsUser: null,             // Bool 是否包含用户\r\n        isDisabled: null                  // Bool 是否停用\r\n      },\r\n      moveForm: {\r\n        sourceId: null,\r\n        targetIdPath: null,               // Array 必须选择。给 cascader 组件使用。\r\n        targetId: null,\r\n        isChild: false,\r\n        movingLocation: 0                 // 0: Under, 1: Above 。 作为子节点，总是 Under；作为兄弟节点则可使用两值任一。\r\n      },\r\n      mainFormRules: {\r\n        name: [\r\n          { required: true, message: '请输入分组名称', trigger: 'blur' },\r\n          { max: 50, message: '最多支持50个字符', trigger: 'blur' }\r\n        ]\r\n      },\r\n      moveFormRules: {\r\n        targetIdPath: [\r\n          { required: true, type: 'array', message: '请选择目标节点', trigger: 'change' }\r\n        ]\r\n      },\r\n      editPermissionTreeData: null,       // 用于编辑对话框内显示的权限树\r\n      editPermissionTreeDefaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      editRoleListData: null,             // 用于编辑对话框内显示的角色列表\r\n      editParentTreeData: null,           // 用于编辑对话框内显示的父节点\r\n      editParentTreeDefaultProps: {\r\n        children: 'children',\r\n        value: 'id',\r\n        label: 'name'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getTree()\r\n    this.getRoleBases()\r\n    this.getPermissionTree()\r\n  },\r\n  computed: {\r\n    mainTableEmptyText: function () {\r\n      return this.isLoading ? '加载中...' : '暂无数据'\r\n    }\r\n  },\r\n  watch: {\r\n    filterText (val) {\r\n      this.$refs.tree.filter(val)\r\n    }\r\n  },\r\n  methods: {\r\n    getTree () {\r\n      this.isLoading = true\r\n      api.getGroupTree().then(response => {\r\n        this.isLoading = false\r\n        this.treeData = response.data.tree\r\n      }, error => {\r\n        this.isLoading = false\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    filterNode (value, data) {\r\n      if (!value) {\r\n        return true\r\n      }\r\n      return data.name.indexOf(value) !== -1\r\n    },\r\n    getRoleBases () {\r\n      api.getRoleBases().then(response => {\r\n        this.editRoleListData = response.data.list\r\n      }, error => {\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    getPermissionTree () {\r\n      api.getPermissionTree().then(response => {\r\n        this.editPermissionTreeData = response.data.tree\r\n      }, error => {\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    handleAdd (node, data) {\r\n      console.log('handleAdd', node, data)\r\n      if (!this.validateBaseData()) {\r\n        return\r\n      }\r\n      let parentIdPath = []\r\n      if (data) {\r\n        parentIdPath = data.parentIdPath ? data.parentIdPath : []\r\n        parentIdPath.push(data.id)\r\n      }\r\n      this.activeTabName = 'first'\r\n      this.editActive = null\r\n      this.generateParentTree(null)\r\n      this.mainFormDialogVisible = true\r\n      this.mainForm.groupId = null\r\n      this.mainForm.name = null\r\n      this.mainForm.parentIdPath = parentIdPath\r\n      this.mainForm.parentId = data ? data.id : null    // parentId 在提交数据前重新计算\r\n      this.mainForm.roleIds = []            // 不能设置为 null\r\n      this.mainForm.permissionIds = null\r\n      this.mainForm.availableRoleIds = []       // 不能设置为 null\r\n      this.mainForm.isContainsUser = true    // 默认 true\r\n      this.mainForm.isDisabled = false      // 默认 false\r\n      this.$nextTick(() => {\r\n        this.$refs.editPermissionTree.setCheckedKeys([], true)\r\n        this.clearValidate('mainForm')\r\n      })\r\n    },\r\n    handleEdit (node, data) {\r\n      console.log('handleEdit', node, data)\r\n      if (!this.validateBaseData() || !data) {\r\n        return\r\n      }\r\n      this.activeTabName = 'first'\r\n      this.editActive = data\r\n      this.generateParentTree(data)\r\n      this.mainFormDialogVisible = true\r\n      this.mainForm.groupId = data.id\r\n      this.mainForm.name = data.name\r\n      this.mainForm.parentIdPath = data.parentIdPath\r\n      this.mainForm.parentId = data.parentId            // parentId 在提交数据前重新计算\r\n      this.mainForm.roleIds = data.roles.map(m => m.roleId)\r\n      this.mainForm.permissionIds = data.permissions.map(m => m.permissionId)\r\n      this.mainForm.availableRoleIds = data.availableRoles.map(m => m.roleId)\r\n      this.mainForm.isContainsUser = data.isContainsUser\r\n      this.mainForm.isDisabled = data.isDisabled\r\n      this.$nextTick(() => {\r\n        this.$refs.editPermissionTree.setCheckedKeys(this.mainForm.permissionIds, true)\r\n        this.clearValidate('mainForm')\r\n      })\r\n    },\r\n    handleMainFormSure (sure) {\r\n      console.log('handleMainFormSure', sure)\r\n      if (sure) {\r\n        // 提交数据\r\n        if (this.editActive) {\r\n          this.edit()\r\n        } else {\r\n          this.add()\r\n        }\r\n      } else {\r\n        this.mainFormDialogVisible = false\r\n        // this.editActive = null // 注：添加状态 endActive 本就为 null\r\n      }\r\n    },\r\n    handleRemove (node, data) {\r\n      this.removeActive = data\r\n      this.$confirm('删除该分组后，相关的数据也将被删除。是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.remove()\r\n      }).catch(() => {\r\n        this.removeActive = null\r\n      })\r\n    },\r\n    handleMove (node, data) {\r\n      console.log('handleMove', node, data)\r\n      if (!this.validateBaseData() || !data) {\r\n        return\r\n      }\r\n      this.moveActive = data\r\n      this.generateParentTree(data)\r\n      this.moveFormDialogVisible = true\r\n      this.moveForm.sourceId = data.id\r\n      this.moveForm.targetIdPath = []\r\n      this.moveForm.movingLocation = 0\r\n      this.moveForm.isChild = false\r\n      this.$nextTick(() => {\r\n        this.clearValidate('moveForm')\r\n      })\r\n    },\r\n    handleMoveFormSure (sure) {\r\n      console.log('handleMoveFormSure', sure)\r\n      if (sure) {\r\n        this.move()\r\n      } else {\r\n        this.moveFormDialogVisible = false\r\n        this.moveActive = null\r\n      }\r\n    },\r\n    add () {\r\n      this.$refs.mainForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        this.isLoading = true\r\n        this.mainForm.parentId = this.mainForm.parentIdPath && this.mainForm.parentIdPath.length\r\n          ? this.mainForm.parentIdPath[this.mainForm.parentIdPath.length - 1]\r\n          : null\r\n        const params = this.mainForm\r\n        api.addGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.mainFormDialogVisible = false\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    edit () {\r\n      if (!this.editActive) {\r\n        this.showErrorMessage('异常：无编辑目标')\r\n        return\r\n      }\r\n      this.$refs.mainForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        this.isLoading = true\r\n        this.mainForm.parentId = this.mainForm.parentIdPath && this.mainForm.parentIdPath.length\r\n          ? this.mainForm.parentIdPath[this.mainForm.parentIdPath.length - 1]\r\n          : null\r\n        const params = this.mainForm\r\n        api.editGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.editActive = null\r\n          this.mainFormDialogVisible = false\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    remove () {\r\n      if (!this.removeActive) return\r\n      const params = {\r\n        groupId: this.removeActive.id\r\n      }\r\n      this.isLoading = true\r\n      api.removeGroup(params).then(response => {\r\n        this.isLoading = false\r\n        this.removeActive = null\r\n        this.getTree()\r\n      }, error => {\r\n        this.isLoading = false\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    move () {\r\n      if (!this.moveActive) return\r\n      this.$refs.moveForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        const params = {\r\n          sourceId: this.moveActive.id,\r\n          targetId: this.moveForm.targetIdPath[this.moveForm.targetIdPath.length - 1],\r\n          isChild: this.moveForm.movingLocation === 0 ? this.moveForm.isChild : null,\r\n          movingLocation: this.moveForm.movingLocation\r\n        }\r\n        console.log(this.moveForm)\r\n        this.isLoading = true\r\n        api.moveGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.moveFormDialogVisible = false\r\n          this.moveActive = null\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    moveQuickly (sourceId, targetId, isChild, movingLocation) {\r\n      const params = {\r\n        sourceId: sourceId,\r\n        targetId: targetId,\r\n        isChild: isChild,\r\n        movingLocation: movingLocation\r\n      }\r\n      this.isLoading = true\r\n      api.moveGroup(params).then(response => {\r\n        this.isLoading = false\r\n        this.getTree()\r\n      }, error => {\r\n        this.isLoading = false\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    validateBaseData () {\r\n      if (!this.editRoleListData) {\r\n        this.showErrorMessage('基础数据缺失：角色列表')\r\n        return false\r\n      }\r\n      if (!this.editPermissionTreeData) {\r\n        this.showErrorMessage('基础数据缺失：权限列表')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handlePermissionTreeCheckChange (data, checked, indeterminate) {\r\n      // console.log(data, checked, indeterminate)\r\n      this.mainForm.permissionIds = this.$refs.editPermissionTree.getCheckedKeys()\r\n      // console.log(this.mainForm.permissionIds)\r\n    },\r\n    generateParentTree (data) {\r\n      // 在添加或编辑分组时，需要将系统分组排除\r\n      if (!this.treeData) {\r\n        // this.treeData 实际上一定有值的\r\n        this.editParentTreeData = []\r\n        return\r\n      }\r\n      if (!data) {\r\n        // 添加时，过滤系统分组。系统分组只在第一级\r\n        this.editParentTreeData = this.treeData.filter((element, index, array) => { return !element.isSystem })\r\n      } else {\r\n        this.editParentTreeData = _.cloneDeep(this.treeData)\r\n        // 编辑或移动时，过滤系统分组和自身树(需递归)。系统分组只在第一级\r\n        this.editParentTreeData = this.editParentTreeData.filter((element, index, array) => { return !element.isSystem })\r\n        this.filterTree(this.editParentTreeData, data)\r\n      }\r\n    },\r\n    filterTree (tree, data) {\r\n      for (let i = 0; i < tree.length; i++) {\r\n        const item = tree[i]\r\n        // tree 通过 clone 而来，不能直接比较对象\r\n        if (item.id === data.id) {\r\n          // 在第一级就找到\r\n          tree.splice(i, 1)\r\n          break\r\n        } else if (item.children) {\r\n          this.filterTree(item.children, data)\r\n        }\r\n      }\r\n    },\r\n    resetForm (formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    clearValidate (formName) {\r\n      this.$refs[formName].clearValidate()\r\n    },\r\n    showErrorMessage (message) {\r\n      this.$message({\r\n        message: message,\r\n        type: 'error'\r\n      })\r\n    },\r\n    renderContent (h, { node, data, store }) {\r\n      return (\r\n        <span style=\"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 10px;\">\r\n          <span>\r\n            <span class=\"el-tree-node__label\">{ node.label } <font-awesome-icon slot=\"prefix\" icon=\"user-times\" v-show={ !data.isContainsUser }/></span>\r\n          </span>\r\n          <span>\r\n            <span style=\"font-size: 12px;\"> { data.availableRoles ? data.availableRoles.map(m => m.name).join(' ') : '' } </span>\r\n          </span>\r\n          <span v-show={ !data.isSystem }>\r\n            <span style=\"font-size: 12px;\" v-show={ data.isDisabled }>[停用] </span>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-edit-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleEdit(node, data)\r\n            }}>编辑</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-circle-plus-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleAdd(node, data)\r\n            }}>添加</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-rank\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleMove(node, data)\r\n            }}>移动</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-remove-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleRemove(node, data)\r\n            }}>删除</el-button>\r\n          </span>\r\n        </span>)\r\n    },\r\n    handleDragStart (node, ev) {\r\n      // console.log('drag start', node)\r\n    },\r\n    handleDragEnter (draggingNode, dropNode, ev) {\r\n      // console.log('tree drag enter: ', dropNode.label)\r\n    },\r\n    handleDragLeave (draggingNode, dropNode, ev) {\r\n      // console.log('tree drag leave: ', dropNode.label)\r\n    },\r\n    handleDragOver (draggingNode, dropNode, ev) {\r\n      // console.log('tree drag over: ', dropNode.label)\r\n    },\r\n    handleDragEnd (draggingNode, dropNode, dropType, ev) {\r\n      // console.log('tree drag end: ', dropNode && dropNode.label, dropType)\r\n    },\r\n    handleDrop (draggingNode, dropNode, dropType, ev) {\r\n      // console.log('tree drop: ', dropNode.label, dropType)\r\n      // 目标之上(before)，不能为子节点；目标之下(inner)，可能是子节点。\r\n      // MovingLocation: 0 下 1 上\r\n      this.moveQuickly(draggingNode.data.id, dropNode.data.id, dropType === 'before' ? null : dropType === 'inner', dropType === 'before' ? 1 : 0)\r\n    },\r\n    allowDrop (draggingNode, allowDrop, type) {\r\n      // 不允许以系统节点为目标\r\n      return !allowDrop.data.isSystem\r\n    },\r\n    allowDrag (draggingNode) {\r\n      // 不允许拖动系统节点\r\n      return !draggingNode.data.isSystem\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.filterText {\r\n  width: 200px;\r\n  margin-right: 12px;\r\n}\r\n.el-row {\r\n  margin-bottom: 20px;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n// 角色\r\n.el-checkbox {\r\n  display: block;\r\n  margin: 0;\r\n}\r\n// 分组\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/modules/group/App.vue","import Vue from 'vue'\r\n\r\nexport default {\r\n  login (params) {\r\n    return Vue.httpClient.post('/admin/login', params)\r\n  },\r\n  logout () {\r\n    return Vue.httpClient.post('/admin/logout')\r\n  },\r\n  getProfile () {\r\n    return Vue.httpClient.get('/admin/getProfile')\r\n  },\r\n  changeProfile (params) {\r\n    return Vue.httpClient.post('/admin/changeProfile', params)\r\n  },\r\n  changePassword (params) {\r\n    return Vue.httpClient.post('/admin/changePassword', params)\r\n  },\r\n  getMenus () {\r\n    return Vue.httpClient.get('/admin/getMenus')\r\n  },\r\n  // 系统管理\r\n  getBulletin () {\r\n    return Vue.httpClient.get('/admin/getBulletin')\r\n  },\r\n  editBulletin (params) {\r\n    return Vue.httpClient.post('/admin/editBulletin', params)\r\n  },\r\n  getModulePermissions () {\r\n    return Vue.httpClient.get('/admin/getModulePermissions')\r\n  },\r\n  extractModulePermissions () {\r\n    return Vue.httpClient.get('/admin/extractModulePermissions')\r\n  },\r\n  clearModulePermissions () {\r\n    return Vue.httpClient.get('/admin/clearModulePermissions')\r\n  },\r\n  // 角色\r\n  getRoles () {\r\n    return Vue.httpClient.get('/admin/getRoles')\r\n  },\r\n  addRole (params) {\r\n    return Vue.httpClient.post('/admin/addRole', params)\r\n  },\r\n  editRole (params) {\r\n    return Vue.httpClient.post('/admin/editRole', params)\r\n  },\r\n  removeRole (params) {\r\n    return Vue.httpClient.post('/admin/removeRole', params)\r\n  },\r\n  moveRole (params) {\r\n    return Vue.httpClient.post('/admin/moveRole', params)\r\n  },\r\n  saveRoleName (params) {\r\n    return Vue.httpClient.post('/admin/saveRoleName', params)\r\n  },\r\n  // 分组\r\n  getGroupTree () {\r\n    return Vue.httpClient.get('/admin/getGroupTree')\r\n  },\r\n  addGroup (params) {\r\n    return Vue.httpClient.post('/admin/addGroup', params)\r\n  },\r\n  editGroup (params) {\r\n    return Vue.httpClient.post('/admin/editGroup', params)\r\n  },\r\n  removeGroup (params) {\r\n    return Vue.httpClient.post('/admin/removeGroup', params)\r\n  },\r\n  moveGroup (params) {\r\n    return Vue.httpClient.post('/admin/moveGroup', params)\r\n  },\r\n  // 用户\r\n  getUsers (params) {\r\n    // return Vue.httpClient.get('/admin/getUsers', { params: params })\r\n    return Vue.httpClient.post('/admin/getUsers', params)\r\n  },\r\n  addUser (params) {\r\n    return Vue.httpClient.post('/admin/addUser', params)\r\n  },\r\n  editUser (params) {\r\n    return Vue.httpClient.post('/admin/editUser', params)\r\n  },\r\n  removeUser (params) {\r\n    return Vue.httpClient.post('/admin/removeUser', params)\r\n  },\r\n  getUserStatus () {\r\n    return Vue.httpClient.get('/admin/getUserStatus')\r\n  },\r\n  // 通知\r\n  getNotificationsForManager (params) {\r\n    return Vue.httpClient.post('/admin/getNotificationsForManager', params)\r\n  },\r\n  addNotification (params) {\r\n    return Vue.httpClient.post('/admin/addNotification', params)\r\n  },\r\n  editNotification (params) {\r\n    return Vue.httpClient.post('/admin/editNotification', params)\r\n  },\r\n  removeNotification (params) {\r\n    return Vue.httpClient.post('/admin/removeNotification', params)\r\n  },\r\n  getNotifications (params) {\r\n    return Vue.httpClient.post('/admin/getNotifications', params)\r\n  },\r\n  readNotifications (params) {\r\n    return Vue.httpClient.post('/admin/readNotifications', params)\r\n  },\r\n  deleteNotifications (params) {\r\n    return Vue.httpClient.post('/admin/deleteNotifications', params)\r\n  },\r\n  getNewestNotification (params) {\r\n    return Vue.httpClient.post('/admin/getNewestNotification', params)\r\n  },\r\n  // 暂未使用\r\n  getGroups () {\r\n    return Vue.httpClient.get('/admin/getGroups')\r\n  },\r\n  // 基础数据\r\n  getRoleBases () {\r\n    return Vue.httpClient.get('/admin/getRoleBases')\r\n  },\r\n  getPermissionTree () {\r\n    return Vue.httpClient.get('/admin/getPermissionTree')\r\n  },\r\n  // 直接调用\r\n  callDirectly (url) {\r\n    return Vue.httpClient.get(url)\r\n  },\r\n  // 下载文件\r\n  download (url, params) {\r\n    return Vue.httpClient.post(url, params, {\r\n      responseType: 'arraybuffer'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.js","import Vue from 'vue'\r\nimport HttpClient from '@/utils/httpclient.js'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport '../../styles/inner.scss'\r\n\r\nimport App from './App.vue'\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faUsers, faUserTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\r\nlibrary.add(faUsers, faUserTimes)\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(HttpClient)\r\nVue.use(ElementUI, { size: 'mini' })\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/group/group.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.isLoading),expression:\"isLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}]},[_c('el-header',{staticClass:\"header\"},[_c('el-breadcrumb',{staticClass:\"breadcrumb\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"分组列表\")])],1)],1),_vm._v(\" \"),_c('el-main',{staticClass:\"main\"},[_c('el-row',[_c('el-input',{staticClass:\"filterText\",attrs:{\"placeholder\":\"输入关键字进行过滤\",\"clearable\":\"\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.handleAdd()}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"props\":_vm.treeDefaultProps,\"empty-text\":_vm.mainTableEmptyText,\"node-key\":\"id\",\"filter-node-method\":_vm.filterNode,\"render-content\":_vm.renderContent,\"default-expand-all\":true,\"draggable\":\"\",\"allow-drop\":_vm.allowDrop,\"allow-drag\":_vm.allowDrag},on:{\"node-drag-start\":_vm.handleDragStart,\"node-drag-enter\":_vm.handleDragEnter,\"node-drag-leave\":_vm.handleDragLeave,\"node-drag-over\":_vm.handleDragOver,\"node-drag-end\":_vm.handleDragEnd,\"node-drop\":_vm.handleDrop}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.mainFormDialogVisible,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.mainFormDialogVisible=$event}},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.editActive ? '编辑' : '添加')+\"\\n      \")]),_vm._v(\" \"),_c('el-form',{ref:\"mainForm\",attrs:{\"model\":_vm.mainForm,\"rules\":_vm.mainFormRules,\"label-position\":\"right\",\"label-width\":\"120px\"}},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeTabName),callback:function ($$v) {_vm.activeTabName=$$v},expression:\"activeTabName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"first\"}},[_c('el-form-item',{attrs:{\"label\":\"所属分组\"}},[_c('el-cascader',{attrs:{\"options\":_vm.editParentTreeData,\"props\":_vm.editParentTreeDefaultProps,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.mainForm.parentIdPath),callback:function ($$v) {_vm.$set(_vm.mainForm, \"parentIdPath\", $$v)},expression:\"mainForm.parentIdPath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分组名称\",\"prop\":\"name\"}},[_c('el-input',{ref:\"name\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入分组名称\"},model:{value:(_vm.mainForm.name),callback:function ($$v) {_vm.$set(_vm.mainForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"mainForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否包含用户\"}},[_c('el-switch',{model:{value:(_vm.mainForm.isContainsUser),callback:function ($$v) {_vm.$set(_vm.mainForm, \"isContainsUser\", $$v)},expression:\"mainForm.isContainsUser\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否停用\"}},[_c('el-switch',{model:{value:(_vm.mainForm.isDisabled),callback:function ($$v) {_vm.$set(_vm.mainForm, \"isDisabled\", $$v)},expression:\"mainForm.isDisabled\"}})],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"限制角色\",\"name\":\"second\"}},[_c('el-form-item',{attrs:{\"label\":\"限制角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.mainForm.availableRoleIds),callback:function ($$v) {_vm.$set(_vm.mainForm, \"availableRoleIds\", $$v)},expression:\"mainForm.availableRoleIds\"}},_vm._l((_vm.editRoleListData),function(role){return _c('el-checkbox',{key:role.roleId,attrs:{\"label\":role.roleId}},[_vm._v(_vm._s(role.name))])}),1)],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"包含角色\",\"name\":\"third\"}},[_c('el-form-item',{attrs:{\"label\":\"包含角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.mainForm.roleIds),callback:function ($$v) {_vm.$set(_vm.mainForm, \"roleIds\", $$v)},expression:\"mainForm.roleIds\"}},_vm._l((_vm.editRoleListData),function(role){return _c('el-checkbox',{key:role.roleId,attrs:{\"label\":role.roleId}},[_vm._v(_vm._s(role.name))])}),1)],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"包含权限\",\"name\":\"fourth\"}},[_c('el-form-item',{attrs:{\"label\":\"包含权限\"}},[_c('el-tree',{ref:\"editPermissionTree\",attrs:{\"data\":_vm.editPermissionTreeData,\"props\":_vm.editPermissionTreeDefaultProps,\"node-key\":\"id\",\"empty-text\":\"\",\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"check-strictly\":\"\"},on:{\"check-change\":_vm.handlePermissionTreeCheckChange}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleMainFormSure(false)}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleMainFormSure(true)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.moveFormDialogVisible,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.moveFormDialogVisible=$event}},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        移动节点: \"+_vm._s(_vm.moveActive ? _vm.moveActive.name : null)+\"\\n      \")]),_vm._v(\" \"),_c('el-form',{ref:\"moveForm\",attrs:{\"model\":_vm.moveForm,\"rules\":_vm.moveFormRules,\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"目标节点\",\"prop\":\"targetIdPath\"}},[_c('el-cascader',{attrs:{\"options\":_vm.editParentTreeData,\"props\":_vm.editParentTreeDefaultProps,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.moveForm.targetIdPath),callback:function ($$v) {_vm.$set(_vm.moveForm, \"targetIdPath\", $$v)},expression:\"moveForm.targetIdPath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"位置\"}},[[_c('el-radio',{attrs:{\"label\":0,\"border\":\"\"},model:{value:(_vm.moveForm.movingLocation),callback:function ($$v) {_vm.$set(_vm.moveForm, \"movingLocation\", $$v)},expression:\"moveForm.movingLocation\"}},[_vm._v(\"目标之下\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1,\"border\":\"\"},model:{value:(_vm.moveForm.movingLocation),callback:function ($$v) {_vm.$set(_vm.moveForm, \"movingLocation\", $$v)},expression:\"moveForm.movingLocation\"}},[_vm._v(\"目标之上\")])]],2),_vm._v(\" \"),(_vm.moveForm.movingLocation === 0)?_c('el-form-item',{attrs:{\"label\":\"作为子节点\"}},[_c('el-switch',{model:{value:(_vm.moveForm.isChild),callback:function ($$v) {_vm.$set(_vm.moveForm, \"isChild\", $$v)},expression:\"moveForm.isChild\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleMoveFormSure(false)}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleMoveFormSure(true)}}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e44e71b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/group/App.vue\n// module id = auAS\n// module chunks = 10","const debugAccount = 'system'\r\nconst debugPassword = '111111'\r\n\r\nconst isProduction = process.env.NODE_ENV === 'production'\r\n\r\nexport const baseURL = '/api'\r\nexport const defaultAccount = isProduction ? '' : debugAccount\r\nexport const defaultPassword = isProduction ? '' : debugPassword\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/config.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e44e71b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e44e71b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e44e71b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/group/App.vue\n// module id = lrRg\n// module chunks = 10"],"sourceRoot":""}